<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaleMuse V8 | Custom & Spanish Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --accent: #10b981; /* Emerald-500: Frescura y "Safe" */
            --bg-dark: #0f172a; /* Slate-900 */
        }
        body {
            background-color: var(--bg-dark);
            color: #e2e8f0;
            font-family: 'Inter', sans-serif;
        }
        .mono-font {
            font-family: 'JetBrains Mono', monospace;
        }
        .action-btn {
            background: linear-gradient(135deg, #059669, #10b981);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
            transition: all 0.2s ease;
        }
        .action-btn:hover {
            transform: translateY(-2px);
            filter: brightness(1.1);
        }
        .card-anim {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid #1e293b;
        }
        .card-anim:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
            background-color: #1e1b4b;
        }
        .scroller::-webkit-scrollbar { width: 4px; }
        .scroller::-webkit-scrollbar-track { background: #0f172a; }
        .scroller::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        
        select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            appearance: none;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col selection:bg-emerald-400 selection:text-black">

    <!-- Header -->
    <header class="py-4 border-b border-slate-800 bg-slate-900/90 sticky top-0 z-50 backdrop-blur-md">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fa-solid fa-layer-group text-emerald-400 text-xl"></i>
                <h1 class="text-xl font-bold tracking-tight text-white">MALE<span class="text-emerald-400">MUSE</span> <span class="text-[10px] uppercase tracking-widest text-slate-500 ml-1">V8 CUSTOM</span></h1>
            </div>
            <button onclick="copyNegative()" class="text-xs font-bold bg-slate-800 hover:bg-red-900/30 text-red-400 px-3 py-2 rounded border border-red-900/50 transition flex items-center gap-2">
                <i class="fa-solid fa-shield-halved"></i> Negativo
            </button>
        </div>
    </header>

    <!-- Main -->
    <main class="flex-grow container mx-auto px-4 py-8 max-w-7xl">
        
        <!-- Controls & Builder -->
        <div class="max-w-5xl mx-auto mb-8 bg-slate-900/80 p-6 rounded-2xl border border-slate-800 shadow-xl">
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                <!-- Subject Select -->
                <div class="flex flex-col gap-1">
                    <label class="text-[10px] font-bold text-slate-500 uppercase">Sujeto / Modelo</label>
                    <select id="sel-subject" class="w-full bg-slate-800 text-slate-200 text-xs border border-slate-700 rounded-lg px-3 py-2.5 focus:outline-none focus:border-emerald-500">
                        <option value="random">üé≤ Aleatorio</option>
                        <option value="latino">Latino (Piel Clara/Suave)</option>
                        <option value="asian">Asi√°tico (K-Pop Style)</option>
                        <option value="brunette">Casta√±o (Ojos Claros)</option>
                        <option value="mixed">Mestizo (Piel Media)</option>
                    </select>
                </div>

                <!-- Wardrobe Select -->
                <div class="flex flex-col gap-1">
                    <label class="text-[10px] font-bold text-slate-500 uppercase">Vestuario</label>
                    <select id="sel-wardrobe" class="w-full bg-slate-800 text-slate-200 text-xs border border-slate-700 rounded-lg px-3 py-2.5 focus:outline-none focus:border-emerald-500">
                        <option value="random">üé≤ Aleatorio</option>
                        <option value="risky">üî• Risky (Minimal)</option>
                        <option value="sport">‚öΩ Sport (Atl√©tico)</option>
                        <option value="casual">üè† Casual (Relax)</option>
                    </select>
                </div>

                <!-- Location Select -->
                <div class="flex flex-col gap-1">
                    <label class="text-[10px] font-bold text-slate-500 uppercase">Lugar / Set</label>
                    <select id="sel-location" class="w-full bg-slate-800 text-slate-200 text-xs border border-slate-700 rounded-lg px-3 py-2.5 focus:outline-none focus:border-emerald-500">
                        <option value="random">üé≤ Aleatorio</option>
                        <option value="studio">Estudio Minimalista</option>
                        <option value="home">Interiores (Casa/Dorm)</option>
                        <option value="gym">Gym & Lockers</option>
                        <option value="outdoors">Exteriores / Naturaleza</option>
                    </select>
                </div>

                <!-- Camera Select -->
                <div class="flex flex-col gap-1">
                    <label class="text-[10px] font-bold text-slate-500 uppercase">C√°mara / Estilo</label>
                    <select id="sel-camera" class="w-full bg-slate-800 text-slate-200 text-xs border border-slate-700 rounded-lg px-3 py-2.5 focus:outline-none focus:border-emerald-500">
                        <option value="random">üé≤ Aleatorio</option>
                        <option value="sony">Sony A7R (N√≠tido/Digital)</option>
                        <option value="fuji">Fujifilm (Tonos Cine)</option>
                        <option value="kodak">Kodak Portra (Anal√≥gico)</option>
                        <option value="iphone">Smartphone (Candid/Selfie)</option>
                    </select>
                </div>
            </div>

            <div class="flex flex-col md:flex-row justify-between items-center gap-4 border-t border-slate-800 pt-5">
                <div class="flex items-center gap-4">
                    <div class="flex items-center gap-2 text-xs text-slate-400 border border-slate-700 px-3 py-2 rounded-lg bg-slate-900">
                        <input type="checkbox" id="socks-toggle" checked class="accent-emerald-500">
                        <label for="socks-toggle" class="cursor-pointer font-semibold">Calcetines</label>
                    </div>
                </div>

                <button onclick="generateDirectorSet()" class="action-btn text-white font-extrabold py-3 px-10 rounded-xl w-full md:w-auto text-sm flex items-center justify-center gap-2 shadow-lg shadow-emerald-500/20">
                    <i class="fa-solid fa-bolt"></i> GENERAR SET
                </button>
            </div>
            
        </div>

        <!-- Grid -->
        <div id="grid-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
            <!-- Placeholder -->
            <div class="col-span-full py-20 text-center border-2 border-dashed border-slate-800 rounded-xl bg-slate-900/30">
                <p class="text-slate-600 font-mono text-sm">Configura tus opciones arriba y presiona Generar...</p>
            </div>
        </div>
    </main>

    <script>
        // === MALE MUSE V8: CUSTOM ENGINE ===

        // 1. SAFE BULGE TAGS (Enga√±ar a la IA con iluminaci√≥n y f√≠sica)
        // Se usan t√©rminos de arte y fotograf√≠a para sugerir forma sin ser expl√≠citos.
        const SAFE_BULGE_TAGS = [
            "detailed fabric folds", "volumetric lighting on waist", "chiaroscuro shadows on torso",
            "tight fitting fabric physics", "anatomically correct sculpture reference", 
            "high contrast shadows", "dramatic side lighting", "form fitting silhouette",
            "detailed clothing texture", "subtle cloth tension"
        ];

        // 2. SUJETOS (Filtrados: No Morenos oscuros, No N√≥rdicos p√°lidos)
        // Enfocados en: Casta√±os, Piel clara/oliva, Asi√°ticos, Latinos claros.
        const SUBJECTS_DB = {
            latino: [
                { en: "handsome 20yo latino male, light olive skin, messy brown hair, clean shaven", es: "Latino 20 a√±os, piel oliva clara" },
                { en: "cute 19yo hispanic male, smooth skin, short dark hair, boyish face", es: "Hispano 19 a√±os, cara juvenil" },
                { en: "attractive 21yo argentine male, light skin, dark eyes, clean shaven", es: "Argentino 21 a√±os, piel clara" }
            ],
            asian: [
                { en: "handsome 19yo korean male, k-pop idol style, smooth pale skin, clean shaven", es: "Coreano 19 a√±os, estilo K-Pop" },
                { en: "cute 20yo japanese male, messy black hair, soft features, slim build", es: "Japon√©s 20 a√±os, facciones suaves" },
                { en: "fit 22yo asian male, sharp jawline, clear skin, modern haircut", es: "Asi√°tico 22 a√±os, mand√≠bula marcada" }
            ],
            brunette: [
                { en: "handsome 21yo brunette male, hazel eyes, light skin, messy hair", es: "Casta√±o 21 a√±os, ojos avellana" },
                { en: "cute 20yo french male, brown hair, blue eyes, smooth skin, clean shaven", es: "Franc√©s 20 a√±os, casta√±o ojos azules" },
                { en: "attractive 23yo italian male, light brown hair, clean shaven, aesthetic face", es: "Italiano 23 a√±os, pelo casta√±o claro" }
            ],
            mixed: [
                { en: "handsome 22yo mixed race male, light caramel skin, curly brown hair, clean shaven", es: "Mestizo 22 a√±os, pelo rizado casta√±o" },
                { en: "cute 20yo brazilian male, sun kissed light skin, dark eyes, youthful", es: "Brasile√±o 20 a√±os, piel bronceada clara" }
            ]
        };

        // 3. WARDROBE (A√±adidos +15 items nuevos)
        const WARDROBE_DB = {
            risky: [
                // Originales
                { en: "white tight briefs", es: "Trusas blancas ajustadas" },
                { en: "black low-rise swim briefs", es: "Ba√±ador negro bajo" },
                // Nuevos (+5)
                { en: "seamless skin-tone dance belt", es: "Susensorio color piel" },
                { en: "sheer mesh athletic briefs", es: "Trusa deportiva de malla" },
                { en: "minimalist string bikini bottom", es: "Bikini minimalista" },
                { en: "tight latex compression shorts", es: "Shorts de l√°tex compresi√≥n" },
                { en: "semi-transparent white sleep shorts", es: "Shorts de dormir finos" }
            ],
            sport: [
                // Originales
                { en: "vintage retro running shorts", es: "Shorts running retro" },
                { en: "tight compression lycra shorts", es: "Mallas cortas lycra" },
                { en: "professional swimming speedo", es: "Speedo de nataci√≥n" },
                // Nuevos (+5)
                { en: "varsity wrestling singlet bottom", es: "Parte baja de lucha" },
                { en: "white soccer kit shorts", es: "Shorts de f√∫tbol blancos" },
                { en: "grey compression base layer shorts", es: "Base layer gris" },
                { en: "track and field sprinter briefs", es: "Briefs de atletismo" },
                { en: "cycling bib shorts bottom", es: "Culotte de ciclismo" }
            ],
            casual: [
                // Originales
                { en: "classic grey cotton boxer briefs", es: "B√≥xers grises cl√°sicos" },
                { en: "loose silk boxer shorts", es: "B√≥xers de seda sueltos" },
                { en: "unbuttoned denim jeans", es: "Jeans desabrochados" },
                // Nuevos (+5)
                { en: "white ribbed cotton tank top and briefs", es: "Camiseta tirantes y trusa" },
                { en: "plaid pajama shorts", es: "Shorts de pijama cuadros" },
                { en: "tight lounge sweatpants low waist", es: "Pants deportivos bajos" },
                { en: "towel wrapped around waist", es: "Toalla en la cintura" },
                { en: "designer waistband trunks", es: "Trunks de dise√±ador" }
            ]
        };

        // 4. LOCATIONS (A√±adidos +15 lugares)
        const LOCATIONS_DB = {
            studio: [
                { en: "minimalist white studio cyclorama", es: "Estudio blanco infinito" },
                { en: "grey concrete wall background", es: "Pared de concreto gris" },
                { en: "dramatic spotlight studio dark background", es: "Estudio oscuro con foco" },
                { en: "soft box lighting setup", es: "Iluminaci√≥n softbox" },
                { en: "abstract geometric set", es: "Set geom√©trico abstracto" }
            ],
            home: [
                { en: "messy bedroom morning light", es: "Dormitorio desordenado ma√±ana" },
                { en: "modern kitchen counter", es: "Encimera de cocina moderna" },
                { en: "bathroom mirror selfie reflection", es: "Reflejo espejo ba√±o" },
                { en: "sunlit living room couch", es: "Sof√° sala soleada" },
                { en: "college dorm room desk", es: "Escritorio dormitorio uni" },
                { en: "open window with curtains blowing", es: "Ventana abierta cortinas" }
            ],
            gym: [
                { en: "university locker room benches", es: "Bancas vestidor uni" },
                { en: "empty shower room tiled walls", es: "Duchas vac√≠as azulejos" },
                { en: "gym workout area mirrors", es: "Espejos zona pesas" },
                { en: "indoor swimming pool deck", es: "Borde alberca techada" },
                { en: "sauna wood interior", es: "Interior sauna madera" }
            ],
            outdoors: [
                { en: "rooftop sunset city view", es: "Azotea atardecer ciudad" },
                { en: "backyard pool summer vibes", es: "Alberca patio trasero" },
                { en: "forest glade dappled light", es: "Claro de bosque luz" },
                { en: "desert dunes golden hour", es: "Dunas desierto hora dorada" },
                { en: "abandoned skate park concrete", es: "Skate park abandonado" },
                { en: "balcony overlooking street", es: "Balc√≥n vista calle" }
            ]
        };

        // 5. C√ÅMARAS Y TECH (Nuevo)
        const CAMERAS_DB = {
            sony: { en: "shot on Sony A7R IV, 85mm f/1.4 GM lens, sharp focus, high contrast, digital photography", es: "Estilo Sony A7R (N√≠tido)" },
            fuji: { en: "shot on Fujifilm GFX 100, classic chrome film simulation, soft colors, cinematic look", es: "Estilo Fujifilm (Cine)" },
            kodak: { en: "shot on Kodak Portra 400 film, 35mm analog grain, warm tones, vintage aesthetic", es: "Estilo Kodak (Anal√≥gico)" },
            iphone: { en: "shot on iPhone 15 Pro, raw candid photo, flash photography, amateur selfie angle", es: "Estilo iPhone (Casual)" }
        };

        const MANDATORY_POSE = "full body shot, dynamic pose, looking at camera";
        const BODY_TYPE = "lean athletic build, smooth skin, hairless body, aesthetic physique";

        function getRandom(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        // Obtener todas las opciones de una categor√≠a si es 'random'
        function getFromCategory(db, key) {
            if (key !== 'random' && db[key]) {
                return getRandom(db[key]);
            }
            // Si es random, aplanar todas las categor√≠as
            let allItems = [];
            Object.keys(db).forEach(k => allItems = allItems.concat(db[k]));
            return getRandom(allItems);
        }

        function generateDirectorSet() {
            const container = document.getElementById('grid-container');
            const useSocks = document.getElementById('socks-toggle').checked;

            // Obtener valores de los selects
            const selSubj = document.getElementById('sel-subject').value;
            const selWard = document.getElementById('sel-wardrobe').value;
            const selLoc = document.getElementById('sel-location').value;
            const selCam = document.getElementById('sel-camera').value;

            container.innerHTML = `
                <div class="col-span-full py-16 flex flex-col items-center justify-center text-emerald-500">
                    <i class="fa-solid fa-camera-shutter fa-spin text-4xl mb-4"></i>
                    <p class="font-mono text-sm animate-pulse">REVELANDO FOTOS...</p>
                </div>
            `;

            setTimeout(() => {
                container.innerHTML = '';
                
                for(let i=0; i<9; i++) {
                    // Selecci√≥n de elementos
                    const subjData = getFromCategory(SUBJECTS_DB, selSubj);
                    const wardData = getFromCategory(WARDROBE_DB, selWard);
                    const locData = getFromCategory(LOCATIONS_DB, selLoc);
                    
                    // Selecci√≥n de C√°mara (Manejo especial porque es objeto no array de arrays)
                    let camData;
                    if(selCam !== 'random' && CAMERAS_DB[selCam]) {
                        camData = CAMERAS_DB[selCam];
                    } else {
                        const keys = Object.keys(CAMERAS_DB);
                        camData = CAMERAS_DB[keys[Math.floor(Math.random() * keys.length)]];
                    }

                    // Socks Logic
                    let socksPrompt = "";
                    let socksTitle = "";
                    if(useSocks && Math.random() > 0.3) {
                        const sockTypes = ["white crew socks", "black ankle socks", "sport socks", "white tube socks"];
                        const s = getRandom(sockTypes);
                        socksPrompt = `, wearing ${s}`;
                        socksTitle = " + Calcetines";
                    }

                    // Safe Bulge Logic
                    const bulgeTag = getRandom(SAFE_BULGE_TAGS);

                    // T√≠tulo en Espa√±ol (Construcci√≥n din√°mica)
                    const titleES = `${subjData.es} con ${wardData.es}${socksTitle}.`;
                    const subTitleES = `${locData.es} | ${camData.es}`;

                    // Construcci√≥n del Prompt
                    const finalPrompt = `
(masterpiece, best quality:1.2),
Subject: ${subjData.en}, ${BODY_TYPE},
Outfit: (wearing ${wardData.en}:1.2)${socksPrompt},
Detail: ${bulgeTag},
Pose: ${MANDATORY_POSE},
Location: ${locData.en},
Tech: ${camData.en}
                    `.replace(/\s+/g, ' ').trim();

                    // UI Render
                    const card = document.createElement('div');
                    card.className = "card-anim bg-slate-900 p-4 rounded-xl flex flex-col h-full relative group shadow-lg";
                    
                    card.innerHTML = `
                        <div class="mb-3 border-b border-slate-800 pb-2">
                            <h3 class="text-sm font-bold text-emerald-400 leading-tight mb-1">${titleES}</h3>
                            <p class="text-[10px] text-slate-500 font-mono uppercase tracking-wide">${subTitleES}</p>
                        </div>

                        <div class="relative bg-black/40 rounded-lg p-3 mb-3 border border-slate-800 flex-grow group-hover:border-emerald-500/30 transition">
                            <p id="p-${i}" class="mono-font text-[11px] text-slate-300 leading-relaxed select-all whitespace-pre-wrap h-32 overflow-y-auto scroller">${finalPrompt}</p>
                        </div>

                        <div class="mt-auto flex gap-2">
                            <button onclick="copyToClipboard('p-${i}', this)" class="flex-grow bg-slate-800 hover:bg-emerald-600 hover:text-white text-slate-400 px-3 py-2 rounded-lg transition text-xs flex items-center justify-center gap-2 group border border-slate-700 hover:border-emerald-500 font-semibold">
                                <span>Copiar Prompt</span> <i class="fa-regular fa-copy"></i>
                            </button>
                        </div>
                    `;
                    container.appendChild(card);
                }
            }, 500);
        }

        function copyToClipboard(id, btn) {
            const text = document.getElementById(id).innerText;
            navigator.clipboard.writeText(text);
            
            const originalHTML = btn.innerHTML;
            btn.innerHTML = `<span>Copiado</span> <i class="fa-solid fa-check"></i>`;
            btn.classList.add('bg-emerald-600', 'text-white', 'border-emerald-500');
            btn.classList.remove('bg-slate-800', 'text-slate-400');
            
            setTimeout(() => { 
                btn.innerHTML = originalHTML;
                btn.classList.remove('bg-emerald-600', 'text-white', 'border-emerald-500');
                btn.classList.add('bg-slate-800', 'text-slate-400');
            }, 1000);
        }

        const NEGATIVE_PROMPT = "(beard, mustache, stubble:1.4), (body hair, chest hair, arm hair, leg hair:1.4), (old, wrinkles, mature:1.5), (muscular, bodybuilder:1.2), deformed, bad anatomy, disfigured, poorly drawn face, mutation, mutated, extra limb, ugly, disgusting, poorly drawn hands, missing limb, floating limbs, disconnected limbs, malformed hands, blurry, ((((mutated hands and fingers)))), watermark, watermarked, oversaturated, census, distorted hands, amputation, missing hands, obese, doubled face, double hands, b&w, black and white, sepia";

        function copyNegative() {
            navigator.clipboard.writeText(NEGATIVE_PROMPT);
            // Custom toast notification instead of alert could be better, but keeping simple for now
            const btn = document.querySelector('header button');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fa-solid fa-check"></i> Copiado';
            setTimeout(() => btn.innerHTML = originalText, 1500);
        }

        window.onload = generateDirectorSet;
    </script>
</body>
</html>