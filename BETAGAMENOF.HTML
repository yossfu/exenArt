<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaleMuse V3 | Skin & Texture Focus</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --accent: #8b5cf6; /* Violeta para un tono "High Fashion/Editorial" */
            --bg-dark: #0f172a;
            --card-bg: #1e293b;
        }
        body {
            background-color: var(--bg-dark);
            color: #e2e8f0;
            font-family: 'Inter', sans-serif;
        }
        .mono-font {
            font-family: 'JetBrains Mono', monospace;
        }
        .neon-btn {
            background: linear-gradient(135deg, #7c3aed, #8b5cf6);
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
            transition: all 0.3s ease;
        }
        .neon-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px rgba(139, 92, 246, 0.6);
        }
        .card-anim {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid #334155;
        }
        .card-anim:hover {
            border-color: #8b5cf6;
            background-color: #273548;
            transform: translateY(-2px);
        }
        .tag-pill {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        /* Custom Scrollbar */
        .scroller::-webkit-scrollbar {
            width: 4px;
        }
        .scroller::-webkit-scrollbar-track {
            background: transparent; 
        }
        .scroller::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col selection:bg-violet-500 selection:text-white">

    <!-- Header -->
    <header class="py-6 border-b border-gray-800 bg-[#0f172a]/90 sticky top-0 z-50 backdrop-blur-md">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold text-white tracking-tight">MALE<span class="text-violet-500">MUSE</span> <span class="text-[10px] align-middle bg-violet-500/10 text-violet-400 border border-violet-500/20 px-2 py-1 rounded ml-2">V3 SKIN ENGINE</span></h1>
            </div>
            <button onclick="copyAll()" class="text-xs font-semibold bg-gray-800 hover:bg-gray-700 border border-gray-700 text-gray-300 px-4 py-2 rounded transition flex items-center gap-2">
                <i class="fa-regular fa-clone"></i> Copiar Todo
            </button>
        </div>
    </header>

    <!-- Main Interface -->
    <main class="flex-grow container mx-auto px-4 py-8 max-w-6xl">
        
        <div class="text-center mb-12">
            <h2 class="text-gray-400 text-sm mb-6 uppercase tracking-widest">Generador de Retratos Masculinos Realistas</h2>
            <button onclick="generateUltimateSet()" class="neon-btn text-white font-semibold py-4 px-10 rounded-full w-full md:w-auto text-lg flex items-center justify-center gap-3 mx-auto">
                <i class="fa-solid fa-wand-magic-sparkles"></i> Generar Conceptos (18-22 Años)
            </button>
            <div class="mt-6 flex justify-center gap-4 text-xs text-gray-500 flex-wrap">
                <span class="flex items-center gap-1"><i class="fa-solid fa-check text-violet-500"></i> Piel Realista</span>
                <span class="flex items-center gap-1"><i class="fa-solid fa-check text-violet-500"></i> Cuerpos Delgados/Fit</span>
                <span class="flex items-center gap-1"><i class="fa-solid fa-check text-violet-500"></i> Lencería Segura</span>
            </div>
        </div>

        <!-- Grid -->
        <div id="grid-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6">
            <!-- Initial State -->
            <div class="col-span-full text-center py-24 border border-dashed border-gray-800 rounded-2xl bg-gray-900/50">
                <i class="fa-solid fa-fingerprint text-4xl text-gray-700 mb-4"></i>
                <p class="text-gray-500">Esperando orden de generación...</p>
            </div>
        </div>
    </main>

    <!-- LOGIC SCRIPT -->
    <script>
        // === V3 ENGINE: SKIN & TEXTURE FOCUS ===

        // 1. CALIDAD Y TEXTURA DE PIEL (CRÍTICO)
        // Usamos términos técnicos de fotografía y renderizado 3D para forzar realismo sin filtros NSFW.
        const SKIN_ENGINE = "hyper-realistic skin texture, visible pores, subsurface scattering, soft natural vellus hair, detailed skin imperfections, high fidelity texture, soft natural lighting shadows";
        const QUALITY_TAGS = "(masterpiece, best quality, photorealistic:1.4), raw photo, 8k uhd, f/1.8 depth of field, sharp focus on eyes";

        // 2. EDAD Y CUERPO (18-22, DELGADOS)
        // Eliminamos "1boy". Usamos rangos específicos.
        const ageRanges = ["19 years old", "20 years old", "21 years old", "22 years old", "young adult male"];
        
        const subjects = [
            { name: "Latino", tags: "handsome latino male model, tan skin, messy dark hair", body: ["slim lean body", "defined abdominal muscles", "wiry athletic frame"] },
            { name: "Black", tags: "handsome black male model, deep ebony skin, short fade haircut", body: ["lean runner physique", "statuesque slim build", "toned muscle definition"] },
            { name: "Asian", tags: "handsome asian male model, clear skin, k-pop idol aesthetic", body: ["slender swimmer physique", "very lean torso", "smooth toned body"] },
            { name: "Caucasian", tags: "handsome caucasian male model, dirty blonde hair, sharp jawline", body: ["skinny fit physique", "lean gymnast body", "natural slim frame"] },
            { name: "Mediterranean", tags: "handsome southern european male, olive skin, curly hair", body: ["ottermode physique", "defined torso", "lean athletic build"] },
            { name: "Nordic", tags: "handsome nordic male, pale skin, platinum blonde, blue eyes", body: ["tall slender build", "lean muscles", "swimmer shoulders"] }
        ];

        // 3. ROPA (SEXY SAFE - SIEMPRE CALZONCILLOS)
        // Variedad de telas y cortes. Usamos términos de moda para describir lo sexy.
        const underwearCollection = [
            // Classics
            "tight white cotton briefs", 
            "grey heathered boxer briefs", 
            "classic black calvin klein style briefs",
            // Modern/Sport
            "low-rise athletic trunks", 
            "compression shorts", 
            "athletic support briefs", 
            // Sexy/Texture (Safe naming)
            "sheer mesh textured shorts", // Transparencia segura
            "satin silk pajama shorts", // Brillo y suavidad
            "ribbed cotton briefs with buttons", // Textura
            "white briefs (wet fabric texture:1.2)", // Efecto mojado
            "seamless microfiber trunks", // Ajustado
            "high-cut swim briefs", // Muestra pierna
            "lace-trim textured shorts" // Detalle
        ];

        const socksTypes = [
            "white tube socks", "black dress socks", "nike crew socks", 
            "barefoot", "slouchy wool socks", "ankle socks"
        ];

        // 4. ARQUETIPOS (ESCENARIOS Y VIBRA)
        const archetypes = {
            "Morning Light": {
                env: "bright bedroom, morning sun rays, messy white sheets, pillows",
                light: "soft volumetric morning light, overexposed windows",
                vibe: "candid, intimate, cozy, dreamy atmosphere"
            },
            "Night Mood": {
                env: "dimly lit bedroom, neon light form window, dark shadows",
                light: "cinematic blue and red lighting, rim light",
                vibe: "moody, mysterious, lonely, emotional"
            },
            "Studio Portrait": {
                env: "solid grey studio background, professional setup",
                light: "rembrandt lighting, softbox lighting, high contrast",
                vibe: "editorial, fashion magazine style, clean, sharp"
            },
            "Bathroom Mirror": {
                env: "modern bathroom interior, tiled walls, mirror reflection context",
                light: "overhead bathroom light, soft shadows",
                vibe: "selfie aesthetic, private moment, casual"
            },
            "Wet/Summer": {
                env: "outdoor pool area, blue water background, sunlight",
                light: "harsh summer sun, glistening skin, water droplets",
                vibe: "refreshing, energetic, golden hour"
            },
            "Locker Room": {
                env: "gym locker room benches, metal lockers",
                light: "fluorescent overhead lighting, mixed shadows",
                vibe: "post-workout, sweaty skin sheen, candid"
            }
        };

        const poses = [
            "looking at camera, hand running through hair",
            "sitting on edge of bed, leaning forward, elbows on knees",
            "standing, leaning back against wall, one leg up",
            "lying on back, shot from above, looking up",
            "adjusting waistband of underwear, focus on torso",
            "stretching arms overhead, revealing abs",
            "kneeling on bed, turning head to look back"
        ];

        // === ENGINE LOGIC ===

        function getRandom(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generateUltimateSet() {
            const container = document.getElementById('grid-container');
            container.innerHTML = `
                <div class="col-span-full flex flex-col items-center justify-center py-20 text-violet-500">
                    <i class="fa-solid fa-circle-notch fa-spin text-3xl mb-4"></i>
                    <p class="text-sm tracking-widest uppercase animate-pulse">Renderizando Conceptos de Piel...</p>
                </div>`;

            setTimeout(() => {
                container.innerHTML = '';
                
                // Generar 8 prompts
                let archetypeKeys = Object.keys(archetypes);
                
                for(let i=0; i<8; i++) {
                    // Selección aleatoria inteligente
                    const archName = archetypeKeys[i % archetypeKeys.length];
                    const arch = archetypes[archName];
                    const subject = getRandom(subjects);
                    
                    // Selección de atributos
                    const age = getRandom(ageRanges);
                    const body = getRandom(subject.body);
                    const wear = getRandom(underwearCollection);
                    const sock = getRandom(socksTypes);
                    const pose = getRandom(poses);

                    // Accesorio aleatorio (opcional)
                    const accessories = ["silver necklace", "wrist watch", "unbuttoned white shirt open", "denim jacket draped", "glasses"];
                    const acc = Math.random() > 0.6 ? getRandom(accessories) + "," : "";

                    // CONSTRUCCIÓN DEL PROMPT (Estructura Lógica)
                    // 1. Sujeto y Física (Subject + Age + Body + Skin)
                    // 2. Ropa (Wear + Acc)
                    // 3. Acción (Pose)
                    // 4. Entorno (Env + Light)
                    // 5. Calidad (Quality Tags)
                    
                    const promptText = `
${QUALITY_TAGS}, 
(${age}, ${subject.tags}, ${body}), ${SKIN_ENGINE}, 
wearing (${wear}:1.3) and ${sock}, ${acc} 
${pose}, 
${arch.env}, ${arch.light}, ${arch.vibe}
                    `.replace(/\s+/g, ' ').trim(); // Limpiar espacios extras

                    // Crear Tarjeta Visual
                    const card = document.createElement('div');
                    card.className = "card-anim bg-[#1e293b] p-5 rounded-xl relative group flex flex-col h-full";
                    
                    // Extracción para UI (Visualización rápida)
                    const displayWear = wear.replace("tight ", "").replace("classic ", "");
                    const displayAge = age.replace(" years old", "yo");

                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-3 border-b border-gray-700/50 pb-3">
                            <div>
                                <span class="block text-violet-400 font-bold text-xs uppercase tracking-wider mb-1">${archName}</span>
                                <span class="text-[10px] text-gray-500 bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700">${subject.name}</span>
                                <span class="text-[10px] text-gray-500 bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700">${displayAge}</span>
                            </div>
                            <div class="text-right">
                                <span class="block text-[10px] text-gray-400 uppercase">Outfit</span>
                                <span class="text-xs text-gray-300 font-mono truncate max-w-[100px] block" title="${wear}">${displayWear}</span>
                            </div>
                        </div>
                        
                        <div class="relative flex-grow bg-black/20 rounded p-2 mb-3 border border-gray-800">
                            <p id="p-${i}" class="mono-font text-xs text-gray-300 leading-relaxed h-32 overflow-y-auto scroller select-all whitespace-pre-wrap">${promptText}</p>
                        </div>

                        <div class="flex justify-between items-center mt-auto pt-2">
                            <div class="flex gap-2 text-[10px] text-gray-500 uppercase tracking-wider">
                                <span>${sock === 'barefoot' ? 'No Socks' : 'Socks'}</span>
                                <span class="text-gray-600">•</span>
                                <span>Slim Fit</span>
                            </div>
                            <button onclick="copyToClipboard('p-${i}', this)" class="text-gray-400 hover:text-white hover:bg-violet-600/20 p-2 rounded-lg transition group-hover:text-violet-400">
                                <i class="fa-regular fa-copy"></i>
                            </button>
                        </div>
                    `;
                    container.appendChild(card);
                }
            }, 600);
        }

        function copyToClipboard(id, btn) {
            const text = document.getElementById(id).innerText;
            navigator.clipboard.writeText(text);
            
            const icon = btn.querySelector('i');
            const originalClass = icon.className;
            
            icon.className = "fa-solid fa-check text-green-400";
            
            setTimeout(() => {
                icon.className = "fa-regular fa-copy";
            }, 1500);
        }

        function copyAll() {
            let allText = "";
            document.querySelectorAll('[id^="p-"]').forEach((el, idx) => {
                allText += `Prompt ${idx+1}:\n${el.innerText}\n\n`;
            });
            navigator.clipboard.writeText(allText);
        }

        // Init
        window.onload = generateUltimateSet;

    </script>
</body>
</html>