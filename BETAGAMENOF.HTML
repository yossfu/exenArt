<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaleMuse ULTIMATE | Prompt Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;500;700&family=Roboto+Mono:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --accent: #ef4444; /* Red accent for bold feel */
            --bg-dark: #09090b;
            --card-bg: #18181b;
        }
        body {
            background-color: var(--bg-dark);
            color: #d4d4d8;
            font-family: 'Oswald', sans-serif; /* Strong, masculine font */
        }
        .mono-font {
            font-family: 'Roboto Mono', monospace;
        }
        .neon-btn {
            background: linear-gradient(45deg, #b91c1c, #ef4444);
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.5);
            transition: all 0.3s ease;
        }
        .neon-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 25px rgba(239, 68, 68, 0.8);
        }
        .card-anim {
            transition: transform 0.2s, border-color 0.2s;
            border: 1px solid #27272a;
        }
        .card-anim:hover {
            border-color: #ef4444;
            transform: scale(1.01);
        }
        /* Custom Scrollbar for prompt boxes */
        .scroller::-webkit-scrollbar {
            width: 6px;
        }
        .scroller::-webkit-scrollbar-track {
            background: #27272a; 
        }
        .scroller::-webkit-scrollbar-thumb {
            background: #52525b; 
            border-radius: 3px;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="py-6 border-b border-gray-800 bg-black/80 sticky top-0 z-50 backdrop-blur">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold text-white tracking-wider">MALE<span class="text-red-500">MUSE</span> <span class="text-xs bg-gray-800 px-2 py-1 rounded text-gray-400">ULTIMATE v2</span></h1>
                <p class="text-xs text-gray-500 mt-1 uppercase tracking-widest">Motor de Variedad Infinita</p>
            </div>
            <button onclick="copyAll()" class="text-xs border border-gray-600 px-3 py-2 rounded hover:bg-gray-800 transition">
                <i class="fa-solid fa-layer-group mr-1"></i> COPIAR TODOS
            </button>
        </div>
    </header>

    <!-- Main Interface -->
    <main class="flex-grow container mx-auto px-4 py-8">
        
        <div class="text-center mb-10">
            <button onclick="generateUltimateSet()" class="neon-btn text-white font-bold py-4 px-12 rounded w-full md:w-auto text-xl uppercase tracking-widest flex items-center justify-center gap-3 mx-auto">
                <i class="fa-solid fa-bolt"></i> Generar 8 Conceptos Únicos
            </button>
            <p class="mt-4 text-sm text-gray-500">
                Mezcla inteligente de: <span class="text-gray-300">Nacionalidad + Cuerpo + Ropa Interior + Calcetas + Escenario</span>
            </p>
        </div>

        <!-- Grid -->
        <div id="grid-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Initial State -->
            <div class="col-span-1 md:col-span-2 text-center py-20 border border-dashed border-gray-800 rounded-lg">
                <p class="text-gray-600 text-lg">El sistema está listo.</p>
                <p class="text-gray-700 text-sm mt-2">Base de datos cargada: 50+ tipos de ropa interior, 30+ escenarios, 20+ etnias.</p>
            </div>
        </div>
    </main>

    <!-- LOGIC SCRIPT -->
    <script>
        // === HUGE DATABASE ===

        const QUALITY_TAGS = "(masterpiece, best quality, photorealistic:1.3), raw photo, 8k uhd, (film grain:1.1), sharp focus";

        // 1. ETHNICITIES & BODY (Nacionalidades y Físicos)
        const subjects = [
            { name: "Latino", tags: "handsome latino male, tan skin, dark hair, masculine features", body: ["defined abs", "ottermode body", "soccer player physique"] },
            { name: "Black", tags: "handsome black male, dark skin, ebony skin, short texture hair", body: ["muscular physique", "broad shoulders", "defined pectorals"] },
            { name: "Asian", tags: "handsome asian male, k-pop idol aesthetic, smooth skin", body: ["lean fit body", "slender toned", "swimmer physique"] },
            { name: "Caucasian", tags: "handsome caucasian male, dirty blonde hair, stubble", body: ["hairy chest", "average fit body", "dad bod with muscle"] },
            { name: "Middle Eastern", tags: "handsome middle eastern male, olive skin, thick beard, intense eyes", body: ["thick hairy body", "bear mode", "strong legs"] },
            { name: "Nordic", tags: "handsome nordic male, pale skin, blue eyes, platinum blonde", body: ["v-taper torso", "veiny arms", "tall physique"] },
            { name: "Mixed", tags: "mixed race male, freckles, curly hair, unique look", body: ["athletic build", "gymnast body", "toned"] }
        ];

        // 2. WARDROBE COMPONENTS (Ropa y Accesorios)
        const underwearTypes = [
            "tight white calvin klein briefs", "grey cotton boxer briefs", "black silk boxers", 
            "loose button-fly boxers", "tight trunks underwear", "athletic jockstrap", 
            "minimalist string bikini briefs", "long johns thermal underwear", "mesh see-through boxers",
            "classic y-front briefs", "low-rise swim briefs", "compression shorts"
        ];

        const socksTypes = [
            "white tube socks with stripes", "black dress socks", "nike crew socks", 
            "barefoot", "dirty white socks", "knee-high football socks", "ankle socks",
            "grey wool socks", "sheer dress socks"
        ];

        const accessories = [
            "silver chain necklace", "unbuttoned dress shirt open", "leather wristbands", 
            "loose tie around neck", "glasses", "tactical gloves", "baseball cap backwards", 
            "towel draped over shoulder", "dog tags", "wrist watch", "denim jacket open"
        ];

        // 3. ARCHETYPES (To ensure logic consistency)
        // Arquetipos aseguran que no mezclemos "ejecutivo" con "basurero"
        const archetypes = {
            "Morning Casual": {
                env: ["messy bedroom, morning sunlight, unmade bed", "kitchen counter, sun rays, coffee cup", "bathroom mirror selfie context, tiled wall"],
                wear: ["grey cotton boxer briefs", "loose button-fly boxers", "white briefs"],
                sock: ["barefoot", "grey wool socks", "white tube socks"],
                vibe: "cozy, sleepy, intimate, soft lighting"
            },
            "Executive/Luxury": {
                env: ["luxury hotel suite, city skyline window, night", "leather armchair, library, dim light", "penthouse balcony"],
                wear: ["black silk boxers", "designer briefs", "satin underwear"],
                sock: ["black dress socks", "sheer dress socks", "barefoot"],
                acc: ["unbuttoned dress shirt open", "loose tie around neck", "wrist watch", "holding whiskey glass"],
                vibe: "wealth, elegant, noir lighting, seductive"
            },
            "Sport/Locker": {
                env: ["gym locker room, steam, metal lockers", "running track, stadium lights", "home gym, weights background"],
                wear: ["athletic jockstrap", "compression shorts", "tight trunks underwear"],
                sock: ["nike crew socks", "knee-high football socks", "ankle socks"],
                acc: ["towel draped over shoulder", "sweatbands", "water bottle"],
                vibe: "sweaty skin, post-workout, intense, dynamic pose"
            },
            "Rugged/Work": {
                env: ["garage, tools, oil stains, cinematic dark", "construction site, dust", "rustic barn, hay, sunlight beams"],
                wear: ["dirty white briefs", "worn-out boxer briefs", "classic y-front briefs"],
                sock: ["dirty white socks", "heavy work boots (unlaced)", "barefoot"],
                acc: ["denim jacket open", "mechanic gloves", "dog tags"],
                vibe: "gritty, masculine, dirty skin, high contrast"
            },
            "Fetish/Edgy": {
                env: ["dark room, neon red light, shadows", "concrete wall, dungeon vibe", "night club bathroom"],
                wear: ["mesh see-through boxers", "leather jockstrap", "latex shorts"],
                sock: ["black tube socks", "leather boots", "fetish socks"],
                acc: ["leather wristbands", "choker", "harness"], // Only here we use harness
                vibe: "provocative, mysterious, shiny skin, rim light"
            },
            "Summer/Wet": {
                env: ["beach sunset, wet sand, ocean waves", "poolside, blue water, bright sun", "under the shower, falling water"],
                wear: ["low-rise swim briefs", "white briefs (wet:1.2)", "tight colorful sunga"],
                sock: ["barefoot"],
                vibe: "wet skin, water drops, glistening, golden hour"
            }
        };

        const poses = [
            "looking at viewer, hand inside waistband",
            "manspreading pose, sitting on chair",
            "lying on back, view from above",
            "leaning against wall, crossing arms",
            "adjusting underwear, focus on hands",
            "stretching body, arms raised",
            "kneeling on bed, looking back",
            "walking towards camera"
        ];

        // === ENGINE ===

        function getRandom(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generateUltimateSet() {
            const container = document.getElementById('grid-container');
            container.innerHTML = '<div class="col-span-full text-center text-red-500 py-10"><i class="fa-solid fa-gear fa-spin text-4xl"></i><p class="mt-2 animate-pulse">Procesando Arquetipos...</p></div>';

            setTimeout(() => {
                container.innerHTML = '';
                
                // We want 8 prompts. We have 6 archetypes. 
                // We will pick randomly but ensure we cycle through them to avoid repetition.
                let archetypeKeys = Object.keys(archetypes);
                
                // Shuffle logic to fill 8 slots
                let selectedArchetypes = [];
                while(selectedArchetypes.length < 8) {
                    if(selectedArchetypes.length % 6 === 0) {
                        // Reshuffle deck
                        archetypeKeys.sort(() => Math.random() - 0.5);
                    }
                    selectedArchetypes.push(archetypeKeys[selectedArchetypes.length % 6]);
                }

                // Shuffle subjects ensuring variety
                let subjectIndexes = [0,1,2,3,4,5,6]; // Indices of subjects array
                
                selectedArchetypes.forEach((archName, i) => {
                    // Get Archetype Data
                    const arch = archetypes[archName];
                    
                    // Pick Subject (cycle through ethnicities)
                    const subjIdx = subjectIndexes[i % subjectIndexes.length];
                    const subject = subjects[subjIdx];
                    const body = getRandom(subject.body);

                    // Pick Wardrobe based on Archetype (Strict logic)
                    const wear = getRandom(arch.wear);
                    const sock = getRandom(arch.sock);
                    const env = getRandom(arch.env);
                    const pose = getRandom(poses);
                    
                    // Optional Accessory (50% chance if defined in arch, else 30% from general)
                    let acc = "";
                    if (arch.acc) {
                         acc = getRandom(arch.acc);
                    } else if (Math.random() > 0.5) {
                        acc = getRandom(accessories);
                    }
                    
                    // Bulge logic (adds realism/sexy factor without being NSFW banned terms)
                    const bulge = Math.random() > 0.5 ? "(bulge:1.1)" : "detailed fabric folds";

                    // Construct Prompt
                    const promptText = `${QUALITY_TAGS}, (1boy, male focus:1.3), solo, ${subject.tags}, ${body}, (${wear}:1.3), ${bulge}, (${sock}), ${acc ? acc + "," : ""} ${pose}, ${env}, ${arch.vibe}, highly detailed, sharp focus`;

                    // Render Card
                    const card = document.createElement('div');
                    card.className = "card-anim bg-[#18181b] p-4 rounded-lg relative group";
                    card.innerHTML = `
                        <div class="flex justify-between items-center mb-2 border-b border-gray-800 pb-2">
                            <span class="text-red-500 font-bold text-xs uppercase tracking-wider">${archName} Style</span>
                            <span class="text-xs text-gray-500">${subject.name} Model</span>
                        </div>
                        <p id="p-${i}" class="mono-font text-xs text-gray-400 leading-relaxed h-28 overflow-y-auto scroller select-all">${promptText}</p>
                        <div class="mt-3 flex justify-between items-center">
                            <div class="flex gap-1">
                                <span class="bg-gray-800 text-[10px] px-2 py-1 rounded text-gray-400">${wear.split(' ').slice(-1)}</span>
                                <span class="bg-gray-800 text-[10px] px-2 py-1 rounded text-gray-400">${sock.includes('barefoot') ? 'No Socks' : 'Socks'}</span>
                            </div>
                            <button onclick="copyToClipboard('p-${i}', this)" class="text-gray-400 hover:text-white transition">
                                <i class="fa-regular fa-copy"></i>
                            </button>
                        </div>
                    `;
                    container.appendChild(card);
                });
            }, 500);
        }

        function copyToClipboard(id, btn) {
            const text = document.getElementById(id).innerText;
            navigator.clipboard.writeText(text);
            
            const icon = btn.querySelector('i');
            icon.className = "fa-solid fa-check text-green-500";
            setTimeout(() => icon.className = "fa-regular fa-copy", 1500);
        }

        function copyAll() {
            let allText = "";
            document.querySelectorAll('[id^="p-"]').forEach((el, idx) => {
                allText += `Prompt ${idx+1}:\n${el.innerText}\n\n`;
            });
            navigator.clipboard.writeText(allText);
            alert("¡Todos los prompts copiados al portapapeles!");
        }

        // Init on load
        window.onload = generateUltimateSet;

    </script>
</body>
</html>