<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Prompts para Automatic1111 v6</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: #111827; /* bg-gray-900 */
        }
        .glass-container {
            background: rgba(31, 41, 55, 0.5); /* bg-gray-800 with opacity */
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-text {
            background: linear-gradient(90deg, #38bdf8, #818cf8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .btn-glow {
            box-shadow: 0 0 5px #38bdf8, 0 0 15px #38bdf8, 0 0 25px #38bdf8;
        }
        .btn-secondary {
            border: 1px solid #38bdf8;
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #38bdf8;
            color: #111827;
        }
        #prompt-output {
            transition: all 0.3s ease-in-out;
            word-break: break-word; /* Prevents text overflow */
        }
        .prompt-enter {
            opacity: 0;
            transform: translateY(10px);
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen p-4 overflow-x-hidden">
    <!-- Fondo decorativo -->
    <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-gray-900 via-gray-900 to-sky-900 -z-10"></div>

    <div class="w-full max-w-4xl mx-auto my-8 glass-container rounded-2xl shadow-2xl p-8 space-y-8">
        <!-- Encabezado -->
        <div class="text-center">
            <h1 class="text-5xl font-bold gradient-text">Generador de Prompts v6</h1>
            <p class="text-gray-400 mt-2">Ahora con tipos de personaje para mayor variedad (demonio, ángel, cyborg, etc.).</p>
        </div>

        <!-- Área de resultado -->
        <div class="bg-gray-900/50 p-6 rounded-lg min-h-[160px] flex items-center justify-center border border-dashed border-gray-600">
            <p id="prompt-output" class="text-gray-200 text-lg leading-relaxed text-left w-full">Presiona "Generar Prompt" para crear magia.</p>
        </div>

        <!-- Botones de acción -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <button id="generate-btn" class="flex items-center justify-center gap-2 bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 hover:btn-glow">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
                Generar Prompt
            </button>
            <button id="copy-btn" class="flex items-center justify-center gap-2 btn-secondary text-sky-400 font-bold py-3 px-8 rounded-lg relative">
                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                Copiar Resultado
                <span id="copy-feedback" class="absolute -bottom-10 left-1/2 -translate-x-1/2 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-md opacity-0 transition-opacity duration-300">¡Copiado!</span>
            </button>
        </div>
    </div>

    <script>
        // --- BASE DE DATOS DE TAGS (EXPANDIDA) ---
        const tags = {
            obligatorioCompleto: "1boy, solo, male focus, masterpiece, <lora:Penis Bulge Slider_alpha1.0_rank4_noxattn_last:2> <lora:lightingSlider:2> <lora:DetailerILv2:1> <lora:add-detail-xl:4> masterpiece, best quality, ultra-detailed, 8k resolution, high dynamic range, absurdres, stunningly beautiful, intricate details, sharp focus, detailed eyes, cinematic color grading, high-resolution texture",
            
            clothingOptions: {
                nude: ["(big penis:1.2)", "(erect penis:1.2)", "(flacid penis:1.2)", "(penis:1.1)"],
                underwear: ["(brief underwear:1.2)", "(thong:1.2)", "(sexy bodysuit:1.2)", "(jockstrap:1.2)", "(boxer briefs:1.2)", "(harness:1.2)"]
            },
            
            // NUEVA CATEGORÍA: Tipos de personaje para añadir variedad.
            characterTypes: ["", "demon", "angel", "gnome", "monster", "elf", "orc", "vampire", "werewolf", "cyborg", "android", "alien", "fairy", "goblin", "dwarf", "centaur", "minotaur", "ghost", "zombie", "elemental", "satyr", "golem", "harpy", "nephilim", "construct"],
            
            eras: ["", "1400s", "1500s", "1700s", "90s", "archaic", "chenla", "fantastic realism", "joseon dynasty", "yoruba", "renaissance", "baroque", "victorian era", "edwardian era", "art nouveau", "art deco", "cyberpunk era", "stone age", "bronze age", "roman empire"],
            textures: ["", "3d fractals", "animal prints", "blistered", "blotchy", "brittle", "brushed", "bumpy", "chalky", "chipped", "chiseled", "coarse", "corded", "corky", "corroded", "cracked", "creased", "crinkled", "crumbly", "crusty", "elastic", "embossed", "embroidered", "feathery", "fibrous", "flaky", "fluffy", "frosted", "furrowed", "fuzzy", "glistening", "glittering", "glossy", "glowing", "granular", "gritty", "honeycombed", "iridescent", "jagged", "knitted", "leathery", "lustrous", "marbled", "matte", "metallic", "gelatinous", "powdery", "woven", "mossy", "pitted", "plush", "polished", "porous", "prickly", "ribbed", "rough", "rusted", "sandy", "scaly", "shining", "shiny", "silky", "slick", "slimy", "smooth", "sparkling", "spongy", "stained", "suede-like", "veined", "velvety", "viscous", "wavy", "weathered"],
            colors: ["ablaze colors", "apricot color", "aqua colors", "ash gray", "auburn color", "baby blue", "baby pink", "beaming colors", "beige colors", "black and white", "bleached colors", "blood red", "blue violet", "bold colors", "bright colors", "bronze colors", "brown", "burgundy colors", "burnt sienna", "canary yellow", "candy colors", "cerulean blue", "chartreuse color", "chestnut color", "cobalt blue", "cold colors", "colorful", "colorless", "cool colors", "coral color", "crimson red", "cyan", "danish pastel colors", "dark colors", "deep colors", "desaturated", "dim colors", "earth tones", "electric blue", "electric colors", "fiery colors", "fluorescent colors", "forest green", "golden yellow", "gradient colors", "hot pink", "hunter green", "indigo", "ivory", "monochromatic", "triadic colors", "analogous colors", "complementary colors", "viridian", "celadon", "vermilion", "lavender blush", "light colors", "lime colors", "magenta color", "mahogany", "maroon", "mauve", "midnight blue", "mint color", "mocha", "muted colors", "navy blue", "neon colors", "neutral colors", "olive color", "orange red", "pale colors", "pastel colors", "peach color", "pink color", "platinum color", "prismatic colors", "prussian blue", "radiant colors", "red", "retro colors", "rich colors", "rose color", "royal blue", "sepia colors", "silver colors", "sky blue", "slate gray", "smoky black", "spectrum colors", "spring green", "tan color", "taupe", "teal", "technicolor", "tropical colors", "turquoise color", "vantablack", "vibrant colors", "vintage colors", "violet", "vivid colors", "warm colors", "washed out colors"],
            themes: ["", "academicism", "acid pixie", "acidwave", "adventurecore", "afrofuturism", "agropunk", "anachronism", "astropunk", "atompunk", "autumn", "biopunk", "bloomcore", "bohemian", "bronzepunk", "byzantine", "chaotic", "contemporary realism", "cosmic horror", "crusaderpunk", "crustpunk", "cybergoth", "dark fantasy", "dark nautical", "decopunk", "dieselpunk", "dreamy", "emo", "ethereal", "evil-theme", "extraterrestrial", "fairytale", "fantasy", "farmcore", "flowercore", "futuristic", "goblincore", "gothic", "hallyu", "happycore", "haunting", "hikecore", "lo-fi", "magic-realism", "mannerism", "mythology", "orientalism", "prehistoricore", "rainbowcore", "retro", "retrofuturism", "robotic", "romanticism", "solarpunk", "minimalism", "maximalism", "bioluminescent", "slimepunk", "socialist realism", "space opera", "sparklecore", "spring", "steampunk", "summer", "synthwave", "tiki", "tribal art", "tropical", "urbancore", "vaporwave", "winter", "witchcore", "wonderland"],
            compositions: ["", "album cover", "book cover", "brand identity", "character design", "character sheet", "coloring book page", "comic strip", "commercial ad", "diagram", "enamel pin", "fashion mockup", "flowchart", "full body character design", "game assets", "game UI", "house plan", "icon set", "infographic", "interior design", "jewelry design", "knolling", "logo design", "magazine cover", "menu design", "mood board", "poster", "propaganda poster", "seamless pattern", "golden ratio", "rule of thirds", "isometric view", "blueprint schematic", "architectural drawing", "technical illustration", "concept art", "storyboard"],
            extra: ["ultra detail", "ultra realism", "cinematic", "photorealistic", "no reflection", "perfect details", "volumetric lighting", "depth of field", "caustics", "god rays", "sharp focus", "soft lighting", "hard lighting", "dramatic lighting", "subsurface scattering"],
        };

        const generateBtn = document.getElementById('generate-btn');
        const copyBtn = document.getElementById('copy-btn');
        const promptOutput = document.getElementById('prompt-output');
        const copyFeedback = document.getElementById('copy-feedback');

        function getRandomElement(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generatePrompt() {
            // --- SELECCIÓN ALEATORIA DE TAGS OPCIONALES ---
            const selectedCharacterType = getRandomElement(tags.characterTypes); // SELECCIÓN DEL TIPO DE PERSONAJE
            const selectedTexture = getRandomElement(tags.textures);
            const selectedColor = getRandomElement(tags.colors);
            const selectedTheme = getRandomElement(tags.themes);
            const selectedComposition = getRandomElement(tags.compositions);
            const selectedExtra = getRandomElement(tags.extra);
            const selectedEra = getRandomElement(tags.eras);

            // --- CONSTRUCCIÓN DEL PROMPT ---
            const promptParts = [];
            
            // 1. Base obligatoria con LoRAs y calidad
            promptParts.push(tags.obligatorioCompleto);
            
            // 2. REGLA FUNDAMENTAL: Desnudo o Ropa Interior (con pesos)
            if (Math.random() < 0.5) {
                // Opción: Desnudo
                const primaryNudeTag = getRandomElement(tags.clothingOptions.nude);
                promptParts.push(primaryNudeTag);

                if (Math.random() < 0.5) {
                    let secondaryNudeTag;
                    do {
                        secondaryNudeTag = getRandomElement(tags.clothingOptions.nude);
                    } while (secondaryNudeTag === primaryNudeTag);
                    promptParts.push(secondaryNudeTag);
                }
            } else {
                // Opción: Ropa interior
                const selectedUnderwear = getRandomElement(tags.clothingOptions.underwear);
                promptParts.push(selectedUnderwear);
            }

            // 3. Añadir tipo de personaje si se seleccionó uno
            if (selectedCharacterType) promptParts.push(selectedCharacterType);

            // 4. Añadir resto de categorías opcionales
            if (selectedTexture) promptParts.push(`${selectedTexture} texture`);
            if (selectedColor) promptParts.push(`${selectedColor} palette`);
            if (selectedTheme) promptParts.push(`${selectedTheme} ambient`);
            if (selectedComposition) promptParts.push(`${selectedComposition} style`);
            if (selectedExtra) promptParts.push(selectedExtra);
            if (selectedEra) promptParts.push(selectedEra);

            const finalPrompt = promptParts.join(', ');
            
            // --- MOSTRAR RESULTADO CON ANIMACIÓN ---
            promptOutput.classList.add('prompt-enter');
            setTimeout(() => {
                promptOutput.textContent = finalPrompt;
                promptOutput.classList.remove('prompt-enter');
            }, 150);
        }

        function copyPrompt() {
            const textToCopy = promptOutput.textContent;
            const defaultText = "Presiona \"Generar Prompt\" para crear magia.";
            if (textToCopy && textToCopy !== defaultText) {
                 if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(textToCopy).then(showCopyFeedback);
                } else {
                    const textArea = document.createElement("textarea");
                    textArea.value = textToCopy;
                    textArea.style.position = "absolute";
                    textArea.style.left = "-9999px";
                    document.body.appendChild(textArea);
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        showCopyFeedback();
                    } catch (err) {
                        console.error('Fallback: Error al copiar texto: ', err);
                    }
                    document.body.removeChild(textArea);
                }
            }
        }

        let feedbackTimeout;
        function showCopyFeedback() {
            clearTimeout(feedbackTimeout);
            copyFeedback.style.opacity = '1';
            feedbackTimeout = setTimeout(() => {
                copyFeedback.style.opacity = '0';
            }, 2000);
        }

        generateBtn.addEventListener('click', generatePrompt);
        copyBtn.addEventListener('click', copyPrompt);
    </script>
</body>
</html>

